<!doctype html>




<html class="theme-next pisces" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Microsoft Yahei:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Java," />





  <link rel="alternate" href="/atom.xml" title="Sakanoy" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/image/tb.png?v=5.1.0" />






<meta name="description" content="一切都是对象每种编程语言都有自己的操作内存中元素的方式，Java中，我们认为一切皆对象，我们通过引用来操纵对象，引用可以比作遥控器，对象就是电视机，就算没有电视机，遥控器也可以独立存在。例如：String s这里我们只是创建了一个引用，并不是对象，如果我们现在向s发送一个信息(调用)就会报一个错误，因为它并没有和任何事物关联">
<meta name="keywords" content="Java">
<meta property="og:type" content="article">
<meta property="og:title" content="Java基础知识复习">
<meta property="og:url" content="https://sakanoy.com/2017/03/25/Java基础知识复习/index.html">
<meta property="og:site_name" content="Sakanoy">
<meta property="og:description" content="一切都是对象每种编程语言都有自己的操作内存中元素的方式，Java中，我们认为一切皆对象，我们通过引用来操纵对象，引用可以比作遥控器，对象就是电视机，就算没有电视机，遥控器也可以独立存在。例如：String s这里我们只是创建了一个引用，并不是对象，如果我们现在向s发送一个信息(调用)就会报一个错误，因为它并没有和任何事物关联">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-03-27T12:36:06.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java基础知识复习">
<meta name="twitter:description" content="一切都是对象每种编程语言都有自己的操作内存中元素的方式，Java中，我们认为一切皆对象，我们通过引用来操纵对象，引用可以比作遥控器，对象就是电视机，就算没有电视机，遥控器也可以独立存在。例如：String s这里我们只是创建了一个引用，并不是对象，如果我们现在向s发送一个信息(调用)就会报一个错误，因为它并没有和任何事物关联">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: false,
    duoshuo: {
      userId: 'undefined',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://sakanoy.com/2017/03/25/Java基础知识复习/"/>




<script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js"></script>
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-bounce.css">

  <title> Java基础知识复习 | Sakanoy </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-77463916-1', 'auto');
  ga('send', 'pageview');
</script>










  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Sakanoy</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">立于浮华之世,奏响天籁之音.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-mark">
          <a href="/mark" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-retweet"></i> <br />
            
            笔记本
          </a>
        </li>
      
        
        <li class="menu-item menu-item-books">
          <a href="/books" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-book"></i> <br />
            
            书单
          </a>
        </li>
      
        
        <li class="menu-item menu-item-music">
          <a href="/music" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-music"></i> <br />
            
            音乐台
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocapitalize="off" autocomplete="off" autocorrect="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://sakanoy.com/2017/03/25/Java基础知识复习/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kerronex">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/image/tx.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sakanoy">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Java基础知识复习
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-25T03:32:45+00:00">
                2017-03-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-eye"></i> 热度
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          
            <span class="post-meta-divider">|</span>
            <span class="post-wordcount">
              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计</span>
                
                <span title="字数统计">
                  3,280
                </span>
              

              

              
            </span>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <div style="display: none;color: #999" class="note warning" id='timeliness'></div>
        <script language=javascript>
          var days = (new Date().getTime() - 1490412765000) / 86400000;
          if(days > 180) {
            var infoDom = document.getElementById("timeliness");
            infoDom.innerHTML = "提醒：本文发布于 " + Math.round(days) + " 天前，文中所描述的信息可能已发生改变，请谨慎使用。";
            infoDom.style.display = "block"
          }
        </script>
        <h2 id="一切都是对象"><a href="#一切都是对象" class="headerlink" title="一切都是对象"></a>一切都是对象</h2><p>每种编程语言都有自己的操作内存中元素的方式，Java中，我们认为一切皆对象，我们通过引用来操纵对象，引用可以比作遥控器，对象就是电视机，就算没有电视机，遥控器也可以独立存在。<br>例如：<code>String s</code>这里我们只是创建了一个引用，并不是对象，如果我们现在向s发送一个信息(调用)就会报一个错误，因为它并没有和任何事物关联<a id="more"></a><br>为了简化对象的生命周期，在创建对象时把它放进堆里，通过引用来进行访问，需要注意的是，基本类型是个特例，它一般很小、很简单，还放在堆里不是很有效，所以对于这种类型一般就直接放在堆桟中，同时为了跨平台，大小一般是固定的<br>Java中数组也是对象，当创建一个数组对象时，就创建了一个引用数组，每个引用会自动进行初始化为某个特定值，该值拥有自己的关键字null，一旦Java看到null就知道这个引用还没有指向一个对象。</p>
<h2 id="关于默认值"><a href="#关于默认值" class="headerlink" title="关于默认值"></a>关于默认值</h2><p>当变量作为类的成员使用时，Java才确保给定其默认值，以确保那些<strong>基本类型的</strong>成员变量得到初始化，防止出现错误。<br>然而<strong>初始化并不适用于局部变量</strong>(即<strong>并非某个类中</strong>的字段)，比如某个方法中的变量是不会被默认初始化的。<br>如果变量没有被初始化，编译器会报一个错误而不像C报一个警告</p>
<h2 id="关于Static静态"><a href="#关于Static静态" class="headerlink" title="关于Static静态"></a>关于Static静态</h2><p>静态最大的特点就是：单独分配存储空间，并且在内存中只有一份，多用于数据共享；不依赖于对象，也就是不与任何对象实例关联(不持有引用)。<br><strong>使用类名是引用static变量的首选方式</strong>，如：<code>ClassName.varName</code>它不仅强调了变量的static结构，还在某些情况下为编译器的优化提供了更好的机会。对于静态方法也是如此，可以直接调用而不需要创建实例</p>
<p>静态变量存储于内存中的方法区(也有的叫共享区/数据区)的静态区<br>什么时候用static呢？</p>
<ul>
<li>需要访问对象中的特有数据</li>
<li>如果对象中没有成员变量，只有方法，那么就定义成静态</li>
</ul>
<p>静态代码块中如果有异常不能直接抛，只能先抓，然后在catch里可以new一个异常再抛</p>
<h2 id="参数传递"><a href="#参数传递" class="headerlink" title="参数传递"></a>参数传递</h2><p>我们先看一段经典代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test1</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> n = <span class="number">3</span>;</span><br><span class="line">		changeData(n);</span><br><span class="line">		System.out.println(n);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">changeData</span><span class="params">(<span class="keyword">int</span> data)</span> </span>&#123;</span><br><span class="line">		data = <span class="number">10</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>打印结果当然还是3.<br>可以理解为传入方法处理的时候将n拷贝了一份赋给变量data，data存在于changeData方法中，生命周期也就伴随着这个方法，当方法执行完毕这个变量也就销毁了。<br><strong>基本类型作为参数传递时，是传递值的拷贝，无论你怎么改变这个拷贝，原值是不会改变的</strong></p>
<p>特别的，如果传入的是引用类型(对象)，那么就是传递的引用，如果改变了这个对象，那就是真的改变了，比如下面的例子，数组也是个对象：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] ls = &#123;<span class="number">1</span>,<span class="number">2</span>&#125;;</span><br><span class="line">		updateData(ls);</span><br><span class="line">		System.out.println(ls[<span class="number">0</span>]);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">updateData</span><span class="params">(<span class="keyword">int</span>[] data)</span></span>&#123;</span><br><span class="line">		data[<span class="number">0</span>] = <span class="number">6</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="入坑"><a href="#入坑" class="headerlink" title="入坑"></a>入坑</h3><p>开始我测试的其实是字符串，毕竟String也是对象嘛~~</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		String ls = <span class="string">"abc"</span>;</span><br><span class="line">		updateData(ls);</span><br><span class="line">		System.out.println(ls[<span class="number">0</span>]);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">updateData</span><span class="params">(String data)</span></span>&#123;</span><br><span class="line">		data += <span class="string">"d"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如上，结果还是<code>abc</code>，不变，让我懵逼….<br>随后才想到，忘记了一个知识点，String其实可以说一旦声明后就是是不可变的(学Py的话应该也会了解到)，<code>data += &quot;d&quot;;</code>这一句意思就是将data这个对象赋值一份然后追加上<code>d</code>拼成一个新的对象，再把这个对象的引用赋给data，于是最后data随updateData方法的生命周期销毁了….</p>
<p>所以字符串操作应该是尽量少用的，它会在堆中产生大量垃圾，会引起频繁的GC进行回收，卡顿，尽量使用 StringBuffer 和StringBuilder 吧</p>
<div class="note info"><p>字符串拼接的效率问题：<br>使用 <code>+</code> 、使用  StringBuilder 、使用 StringBuffer<br>在 1.5+ 的 JDK 版本：StringBuilder  = <code>+</code> &gt;  StringBuffer<br>在 1.5- 的 JDK 版本：StringBuilder  &gt;  StringBuffer  &gt;  <code>+</code><br>原因就是 Java 也意识到了使用 + 的问题，所以在编译的时候会自动转换成 StringBuilder  ，所以在 1.5+ 的版本它们的效率是一样的，因为要保证多线程同步所以势必会慢一些，但是还是建议使用 StringBuilder </p>
</div>
<p>需要说明的是，这里的转换是在 str1 + str2 这种情况下的，当使用 <code>str += &quot;asjdkla&quot;;</code> 这种形式的时候实际上是转换为：<code>str = new StringBuilder().append(str).append(&quot;asjdkla&quot;).toString();</code><br>一眼就能看出<strong>创建了太多的 StringBuilder 对象</strong>，而且在每次循环过后 str 越来越大，导致每次申请的内存空间越来越大，很多人喜欢把它放到 for 里循环做对比测试。<br>还有一点就是使用 stringbuilder 的时候，默认它会创建一个长度 16 的容器，当不够了的时候就再 +16，然后把内容拷过去，所以，当大量拼接时，可以根据估计长度来设置这个值：<code>new StringBuilder(24)</code><br>PS：此方案不适用于 List ，反而会增加损耗。<br>使用 <code>String.valueOf（）</code> 方法转换字符串能避免 toString 空指针问题；两个字符串拼接直接调用 <code>String.concat()</code> 性能最好<br>格式化输出可以使用 <code>String.format()</code> 【使用  <code>%1$2s</code> 等占位】或者 <code>Message.format()</code> 【使用 <code>{}</code> 占位】</p>
<p>如果了解字符串在堆中的存储结构应该会很好的理解<br>推荐这篇文章：<a href="https://segmentfault.com/a/1190000007099818" target="_blank" rel="noopener">https://segmentfault.com/a/1190000007099818</a></p>
<h2 id="自增运算问题"><a href="#自增运算问题" class="headerlink" title="自增运算问题"></a>自增运算问题</h2><p>Java简化了运算，用++可以实现自增，但是如果这样写</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> a = <span class="number">3</span>,b = <span class="number">3</span>;</span><br><span class="line">  a = ++a;</span><br><span class="line">  b = b++;</span><br><span class="line">  System.out.println(a);</span><br><span class="line">  System.out.println(b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>先说结果a为4，b为3；对于a没什么好说的，主要是b，刚开始我所想的是b赋给b，然后b再自增应该是4，但是呢，这里确实不太好理解，我感觉正确的理解应该是这样的：<br>我们都知道<code>=</code>运算先执行右边，但是<code>b++</code>要等到整句执行完才自增才对，程序是不能回头的，咋办？于是java就搞出了个临时变量，先把b(就是等号右边的b)存到临时变量中，执行自增运算，然后进行了<code>=</code>运算把这个临时变量赋给了b，所以，最后b是3，在C中也是如此</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">t=b; <span class="comment">//存到临时变量</span></span><br><span class="line">b=b+<span class="number">1</span>; <span class="comment">//执行自增，右边运算结束</span></span><br><span class="line">b=t; <span class="comment">//用临时变量t开始左边的“=”运算</span></span><br></pre></td></tr></table></figure>
<h2 id="直接常量"><a href="#直接常量" class="headerlink" title="直接常量"></a>直接常量</h2><p>我们使用“直接常量”的时候，有时候是模棱两可的，如果出现这样的情况要对编译器进行适当的“指导”，比如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i1 = <span class="number">0X2f</span>;</span><br><span class="line"><span class="keyword">int</span> i2 = <span class="number">0X2F</span>;</span><br><span class="line"><span class="keyword">int</span> i3 = <span class="number">0177</span>;</span><br><span class="line"><span class="keyword">long</span> n1 = <span class="number">200L</span>;</span><br><span class="line"><span class="keyword">float</span> f1 = <span class="number">12F</span>;</span><br><span class="line"><span class="keyword">double</span> d1 = <span class="number">2</span>D;</span><br></pre></td></tr></table></figure>
<p>十六进制数适用于所有的整数数据类型，前缀0x或0X，是数字0，再有，如果是long的类型，在后面最好用大写的L，小写的l和数字1很像</p>
<h2 id="内部类"><a href="#内部类" class="headerlink" title="内部类"></a>内部类</h2><p>关于创建的问题，<strong>静态内部类</strong>可以直接被创建<code>new A.B();</code>，如果<strong>内部类不是静态</strong>那就只能这样创建:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A a = <span class="keyword">new</span> A();</span><br><span class="line">A.B b = a.new B();</span><br></pre></td></tr></table></figure>
<p>静态内部类的创建并不依赖于外围类，也就是不含外围类的引用，毕竟不能用外围类的方法嘛~<br>广泛意义上的内部类一般来说包括这四种：成员内部类、局部内部类、匿名内部类和静态内部类。关于这个以前的某篇文章貌似也是说过的，哎~写的太乱，分类也乱，我也很无奈啊，先这样吧</p>
<h2 id="重写问题"><a href="#重写问题" class="headerlink" title="重写问题"></a>重写问题</h2><p>父类的静态方法不能被子类重写<br>子类继承父类后，用相同的静态方法和非静态方法，这时非静态方法覆盖父类中的方法（即方法重写），父类的该静态方法被隐藏（如果对象是父类则调用该隐藏的方法），另外子类可继承父类的静态与非静态方法，至于方法重载我觉得它其中一要素就是在同一类中，不能说父类中的什么方法与子类里的什么方法是方法重载的体现<br><div class="note default"><p>隐藏和覆盖的主要区别是：<br>如果是覆盖，当子类转换成父类时不能调用父类原本的方法，因为以及被覆盖了<br>如果是隐藏，当子类变为父类对象时，是可以执行原本父类的方法，而不会去调用子类的</p>
</div></p>
<h2 id="关于权限"><a href="#关于权限" class="headerlink" title="关于权限"></a>关于权限</h2><p>Java中有4种权限，至于各个的作用，通过一张表就能明白了，很有规律</p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">公共(public)</th>
<th style="text-align:center">保护(protected)</th>
<th style="text-align:center">默认(default)</th>
<th style="text-align:center">私有(private)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">同一类中</td>
<td style="text-align:center">√</td>
<td style="text-align:center">√</td>
<td style="text-align:center">√</td>
<td style="text-align:center">√</td>
</tr>
<tr>
<td style="text-align:center">同一包中</td>
<td style="text-align:center">√</td>
<td style="text-align:center">√</td>
<td style="text-align:center">√</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">子类中</td>
<td style="text-align:center">√</td>
<td style="text-align:center">√</td>
<td style="text-align:center">-</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td style="text-align:center">不同的包中</td>
<td style="text-align:center">√</td>
<td style="text-align:center">-</td>
<td style="text-align:center">-</td>
<td style="text-align:center">-</td>
</tr>
</tbody>
</table>
<h2 id="字段和属性"><a href="#字段和属性" class="headerlink" title="字段和属性"></a>字段和属性</h2><p>一个类里定义的变量叫做字段，当提供了get/set方法，就称为属性，比如常见的javabean里面的变量都称为属性<br>属性的多少与变量无关，只与get/set方法的数量有关<br>这应该是比较正规的叫法</p>
<p>注意，在定义属性的时候命名不要用 <code>mXxx</code> 的这种形式，规范是一方面，还有就是当你生成 get/set 方法时就变成了 getMXxxx ，是不是很恶心，IDE 基本会自动帮你出去开头的 M，所以就变成了 getXxxx，但是返回的还是 mXxxx，这样就更恶心了，所以…..要规范！不要在 java bean 里乱定义名字</p>
<h2 id="instanceof运算符"><a href="#instanceof运算符" class="headerlink" title="instanceof运算符"></a>instanceof运算符</h2><p>instanceof是Java的一个二元操作符，和==，&gt;，&lt;是同一类东东。由于它是由字母组成的，所以也是Java的保留关键字。<strong>它的作用是测试它左边的对象是否是它右边的类的实例</strong>，返回boolean类型的数据。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="string">"I AM an Object!"</span>;</span><br><span class="line"><span class="keyword">boolean</span> isObject = s <span class="keyword">instanceof</span> Object;</span><br></pre></td></tr></table></figure>
<p>String类当然是继承自Object，所以当然返回是True了<br>instanceof运算符 只被用于对象引用变量，检查左边的被测试对象 是不是 右边类或接口的 实例化。如果被测对象是null值，则测试结果总是false<br>判断实例和类的方法常用的就是下面的三种，第一种就是上面我们所说：</p>
<ol>
<li>instanceOf<strong>关键字</strong>，用来判断对象是否是类的实例 </li>
<li>isAssignableFrom，用来判断类型间是否存在派生关系</li>
<li>isInstance方法，用来判断对象是否属于某个类型的实例 </li>
</ol>
<p>注意，后两个方法是class类中的，一般是这样用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ArrayList.class.isAssignableFrom(Object.class);  <span class="comment">//false </span></span><br><span class="line">Object.class.isAssignableFrom(ArrayList.class);  <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">String s=<span class="keyword">new</span> String(<span class="string">"javaisland"</span>); </span><br><span class="line">System.out.println(String.class.isInstance(s)); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>遇到精度问题，例如经典的 1.0 - 0.9 ，原因就不说了，都知道，就算使用 BigDecimal 依然有精度问题，需要说明的是使用 BigDecimal 的时候不要使用 new 来构造，使用 <code>BigDecimal.valueOf()</code> 来初始化值，运算一律使用方法进行（除法运算除不尽时可能会抛异常）</p>
<hr>
<p>遇到 if 连续嵌套太深（无 else ，也推荐不要写 else），为了可读性可以考虑反向条件分解成多个独立的 if，这样会比较好阅读</p>
<h2 id="存档系列"><a href="#存档系列" class="headerlink" title="存档系列"></a>存档系列</h2><p>把那些复习 Java 时做的笔记大部分转移到了 Github，不占博客的空间了，随着熟练程度的增加那些也没啥用了。。。。</p>
<p>这里提供下索引，集中到这篇笔记中。</p>
<ul>
<li><a href="https://github.com/bfchengnuo/MyRecord/blob/master/%E7%AC%94%E8%AE%B0/Java/BlogBackup/java%E5%BF%AB%E9%80%9F%E6%8D%A1%E8%B5%B7.md" target="_blank" rel="noopener">Java快速捡起</a><br>基础知识概念，包含：重载、构造函数、继承、多态、封装<br>现在看着写的还算不错</li>
<li><a href="https://github.com/bfchengnuo/MyRecord/blob/master/%E7%AC%94%E8%AE%B0/Java/BlogBackup/Java%E5%A4%8D%E4%B9%A0%E4%B9%8B%E5%86%85%E5%AD%98.md" target="_blank" rel="noopener">Java复习之内存</a><br>JVM 内存规划的基础基础，后面看了 <a href="https://github.com/bfchengnuo/MyRecord/blob/master/%E7%AC%94%E8%AE%B0/Java/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JVM.md" target="_blank" rel="noopener">深入理解 JVM</a> 表示实写的实在是太简单了</li>
<li><a href="https://github.com/bfchengnuo/MyRecord/blob/master/%E7%AC%94%E8%AE%B0/Java/BlogBackup/java%E4%B8%AD%E7%9A%84%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6.md" target="_blank" rel="noopener">java中的集合框架</a><br>同样是早期学习的产物，现在看看写的太浅了，深入一点的可以参考:<br><a href="https://github.com/bfchengnuo/MyRecord/blob/master/%E7%AC%94%E8%AE%B0/Java/Java%E5%9F%BA%E7%A1%80%E5%A4%8D%E4%B9%A0%E8%AE%A1%E5%88%92(%E4%BA%8C" target="_blank" rel="noopener">Java基础复习计划二</a>.md)</li>
<li><a href="https://github.com/bfchengnuo/MyRecord/blob/master/%E7%AC%94%E8%AE%B0/Java/BlogBackup/%E6%8A%BD%E8%B1%A1%E7%B1%BB%E5%92%8C%E6%8E%A5%E5%8F%A3java.md" target="_blank" rel="noopener">抽象类和接口</a><br>早期学习产物，基本的对比而已，当时竟然还单独写了一篇，看来当时这是个难点</li>
<li><a href="https://github.com/bfchengnuo/MyRecord/blob/master/%E7%AC%94%E8%AE%B0/Java/BlogBackup/%E7%BB%A7%E6%89%BF%EF%BC%8C%E8%A6%86%E7%9B%96%EF%BC%8C%E6%8A%BD%E8%B1%A1%E7%B1%BB%EF%BC%8C%E5%92%8C%E5%A4%9A%E6%80%81.md" target="_blank" rel="noopener">继承，覆盖，抽象类，和多态</a><br>早期学习产物，概念的对比，当时自学时被这些概念困扰了好久啊 o(￣▽￣<em>)ゞ))￣▽￣</em>)o</li>
</ul>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>喜欢就请我吃包辣条吧！</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>赏</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="/image/pay/wx.jpg" alt="Kerronex WeChat Pay"/>
          <p>微信打赏</p>
        </div>
      
      
        <div id="alipay" style="display: inline-block">
          <img id="alipay_qr" src="/image/pay/zfb.jpg" alt="Kerronex Alipay"/>
          <p>支付宝打赏</p>
        </div>
      
    </div>
  </div>


      
    </div>

    <div>
      
        
  <ul class="post-copyright">
    <li class="post-copyright-author">
      <strong>本文作者：</strong>
      Kerronex
    </li>
    <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://sakanoy.com/2017/03/25/Java基础知识复习/" title="Java基础知识复习">https://sakanoy.com/2017/03/25/Java基础知识复习/</a>
    </li>
    <li class="post-copyright-license">
      <strong>版权声明： </strong>
      本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> 许可协议。转载请注明出处！
    </li>
  </ul>


      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Java/" rel="tag"><i class="fa fa-tag"></i> Java</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/03/21/用Centos搭建自己的邮件系统/" rel="next" title="用Centos搭建自己的邮件服务器">
                <i class="fa fa-chevron-left"></i> 用Centos搭建自己的邮件服务器
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/03/26/了解Tomcat/" rel="prev" title="了解Tomcat">
                了解Tomcat <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        
          <p class="warninginfo">
            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>
              评论框加载失败，无法访问 Disqus<br><br>
              你可能需要魔法上网~~
          </p>

      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/image/tx.png"
               alt="Kerronex" />
          <p class="site-author-name" itemprop="name">Kerronex</p>
           
              <p class="site-description motion-element" itemprop="description">程序猿/二刺螈<br/>夜猫族/爱折腾</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">130</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">75</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="Mailto:bfchengnuo@gmail.com" target="_blank" title="Email">
                  
                    <i class="fa fa-fw fa-envelope-o"></i>
                  
                  Email
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://GitHub.com/bfchengnuo" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://sakanoy.com/MyRecord/#/" target="_blank" title="笔记本">
                  
                    <i class="fa fa-fw fa-book"></i>
                  
                  笔记本
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.cnblogs.com/bfchengnuo" target="_blank" title="博客园">
                  
                    <i class="fa fa-fw fa-paw"></i>
                  
                  博客园
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-block">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              小伙伴们~
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://heartsky.info" title="HeartSky" target="_blank">HeartSky</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://blog.kiuber.me" title="Kiuber" target="_blank">Kiuber</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://blog.csdn.net/nightcharm" title="夜Charm" target="_blank">夜Charm</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#一切都是对象"><span class="nav-number">1.</span> <span class="nav-text">一切都是对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#关于默认值"><span class="nav-number">2.</span> <span class="nav-text">关于默认值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#关于Static静态"><span class="nav-number">3.</span> <span class="nav-text">关于Static静态</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参数传递"><span class="nav-number">4.</span> <span class="nav-text">参数传递</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#入坑"><span class="nav-number">4.1.</span> <span class="nav-text">入坑</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#自增运算问题"><span class="nav-number">5.</span> <span class="nav-text">自增运算问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#直接常量"><span class="nav-number">6.</span> <span class="nav-text">直接常量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#内部类"><span class="nav-number">7.</span> <span class="nav-text">内部类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#重写问题"><span class="nav-number">8.</span> <span class="nav-text">重写问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#关于权限"><span class="nav-number">9.</span> <span class="nav-text">关于权限</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字段和属性"><span class="nav-number">10.</span> <span class="nav-text">字段和属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#instanceof运算符"><span class="nav-number">11.</span> <span class="nav-text">instanceof运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#其他"><span class="nav-number">12.</span> <span class="nav-text">其他</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#存档系列"><span class="nav-number">13.</span> <span class="nav-text">存档系列</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>
    <div style="height: 370px;background-image: url(/image/bj.png);background-repeat: no-repeat; margin-left: 31%;"></div>
    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
<span id="sitetime"></span>
<span class="my-face">(●'◡'●)ﾉ♥</span>
<script language=javascript>
function siteTime(){
window.setTimeout("siteTime()", 1000);
var seconds = 1000
var minutes = seconds * 60
var hours = minutes * 60
var days = hours * 24
var years = days * 365

var today = new Date()
var todayYear = today.getFullYear()
var todayMonth = today.getMonth()
var todayDate = today.getDate()
var todayHour = today.getHours()
var todayMinute = today.getMinutes()
var todaySecond = today.getSeconds()

/* Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳) 
year - 作为date对象的年份，为4位年份值
month - 0-11之间的整数，做为date对象的月份
day - 1-31之间的整数，做为date对象的天数
hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
minutes - 0-59之间的整数，做为date对象的分钟数
seconds - 0-59之间的整数，做为date对象的秒数
microseconds - 0-999之间的整数，做为date对象的毫秒数 */
var t1 = Date.UTC(2016,3,30,8,0,0)
var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond)
var diff = t2-t1

var diffYears = Math.floor(diff/years)
var diffDays = Math.floor((diff/days)-diffYears*365)
var diffDaysAll = Math.floor(diff/days)
var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours)
var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes)
var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds)
document.getElementById("sitetime").innerHTML=" 本站已萌萌哒运行 "+diffDaysAll+" 天 "+diffHours+" 小时 "+diffMinutes+" 分钟 "+diffSeconds+" 秒 "
}
siteTime()
</script>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>
<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共521.4k字</span>

</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  

  
</div>


        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'bfchengnuo';
      var disqus_identifier = '2017/03/25/Java基础知识复习/';

      var disqus_title = "Java基础知识复习";


      function run_disqus_script(disqus_script) {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      

      
        var disqus_config = function () {
            this.page.url = disqus_url;
            this.page.identifier = disqus_identifier;
            this.page.title = disqus_title;
        };
        run_disqus_script('embed.js');
      

    </script>
  













  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>





  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":130,"height":170,"hOffset":30,"vOffset":-10},"mobile":{"show":false},"react":{"opacity":0.7},"log":false});</script></body>
</html>
